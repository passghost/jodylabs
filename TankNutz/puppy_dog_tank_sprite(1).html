<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Super-Cute Weird Puppy Tank â€” With Spiky Treads</title>
<style>
  :root { color-scheme: dark; }
  html, body { height: 100%; }
  body{
    margin:0; display:grid; place-items:center;
    background:#0e0b12; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue";
    color:#e9e0ea;
  }
  canvas{
    image-rendering: pixelated;
    image-rendering: optimizeSpeed;
    border-radius: 14px; box-shadow: 0 10px 30px rgba(0,0,0,.4), inset 0 0 0 1px rgba(255,255,255,.05);
    background: radial-gradient(120px 120px at 50% 55%, #181320 0%, #120d19 60%, #0e0b12 100%);
  }
  .note { position: fixed; bottom: 10px; opacity: .75; font-size: 12px; letter-spacing:.2px; }
</style>
</head>
<body>
<canvas id="view" width="512" height="512" aria-label="Puppy Dog Tank sprite"></canvas>
<div class="note">H = toggle hitbox</div>
<script>
(() => {
  const BASE = 64;
  const SCALE = 8;
  const FRAME_MS = 110;
  const FRAMES = 8;

  const P = {
    plum:   "#382344",
    mag:    "#A34D8C",
    pink:   "#E58AB2",
    lpink:  "#FFD1E8",
    cream:  "#FFF5FA",
    mint:   "#A8F5FF",
    mintD:  "#88DDEE",
    gold:   "#F6D66E",
    red:    "#E1567C",
    blk:    "#1b1b1b"
  };

  const view = document.getElementById("view");
  const ctx  = view.getContext("2d", { alpha: false });
  ctx.imageSmoothingEnabled = false;

  const off = document.createElement("canvas");
  off.width = BASE; off.height = BASE;
  const px = off.getContext("2d", { alpha: true });
  px.imageSmoothingEnabled = false;

  function fill(x,y,w,h,color){ px.fillStyle=color; px.fillRect(x|0,y|0,w|0,h|0); }
  function strokeRect(x,y,w,h,color){ px.strokeStyle=color; px.lineWidth=1; px.strokeRect(x+.5,y+.5,w-1,h-1); }

  let showHitbox = false;
  addEventListener("keydown", (e)=>{ if(e.key.toLowerCase()==="h"){ showHitbox=!showHitbox; } });

  const wagX = [ -4,-3,-1, 1, 3, 4, 3, 1 ];
  const bobY = [ 0,1,1,0, 0,1,1,0 ];
  const headLR = [-1,-1,0,1, 1,1,0,-1];
  const earL  = [ 2,1,0, 0, 1,2,3, 2 ];
  const earR  = [ 0,1,2, 3, 2,1,0, 0 ];
  const tongue = [0,1,2,1, 0,1,2,1];

  function drawTreads(frame){
    const yTop=18, yBot=46, treadW=6;
    const leftX=7, rightX=BASE-7-treadW;

    // wells
    fill(leftX,  yTop, treadW, yBot-yTop, P.plum);
    fill(rightX, yTop, treadW, yBot-yTop, P.plum);

    // spiky tread links (scrolling teeth)
    for(let y=yTop; y<yBot; y++){
      const phase = ((y + frame*2) % 6);
      const col = phase<3 ? P.mag : P.pink;
      // spike teeth outward
      if(y % 4 === 0){
        // left tread spikes
        fill(leftX-1, y, 1,1, col);
        fill(leftX-2, y+1, 1,1, P.blk);
        // right tread spikes
        fill(rightX+treadW, y, 1,1, col);
        fill(rightX+treadW+1, y+1, 1,1, P.blk);
      }
      // track body segment
      fill(leftX+2,  y, 2,1, col);
      fill(rightX+2, y, 2,1, col);
    }

    // reinforce with outer edge
    strokeRect(leftX-1, yTop, treadW+2, yBot-yTop, P.blk);
    strokeRect(rightX-1, yTop, treadW+2, yBot-yTop, P.blk);
  }

  function drawHull(frame){
    const bob = bobY[frame];
    fill(16, 20+bob, 32, 24, P.mag);
    fill(17, 21+bob, 30, 22, P.pink);
    fill(18, 22+bob, 28, 7,  P.lpink);
    fill(18, 33+bob, 28, 9,  P.plum);
    for(let x=44; x<48; x++) fill(x, 22+bob, 1, 18, P.cream);
    fill(18, 22+bob, 28, 1,  P.cream);
    const tw = (frame%2===0) ? P.cream : P.lpink;
    fill(19, 30+bob, 3,2, tw); fill(20, 31+bob, 1,1, P.red);
    fill(42, 28+bob, 3,2, tw); fill(43, 29+bob, 1,1, P.red);
    for(let x=17; x<47; x+=2) fill(x, 20+bob-1, 1,1, P.lpink);
    strokeRect(16, 20+bob, 32, 24, P.blk);
  }

  function drawTail(frame){
    const y0 = 44, wag = wagX[frame];
    fill(31+wag, y0,   2,3, P.lpink);
    fill(30+wag, y0-2, 2,2, P.pink);
    fill(29+wag, y0-3, 2,1, P.mag);
    fill(28+wag, y0-4, 1,1, P.gold);
    fill(30+wag, y0-4, 1,1, P.gold);
    fill(29+wag, y0-5, 1,1, P.gold);
    fill(29+wag, y0-3, 1,1, P.gold);
    strokeRect(28+wag, y0-5, 3,3, P.blk);
  }

  function drawSprout(frame){
    const bob = bobY[frame];
    const sway = headLR[frame];
    fill(23+sway, 16+bob, 1,3, P.mintD);
    fill(23+sway, 15+bob, 1,1, P.mint);
    fill(21+sway, 14+bob, 2,2, P.lpink);
    fill(22+sway, 14+bob, 1,1, P.red);
    strokeRect(21+sway, 14+bob, 3,3, P.blk);
  }

  function drawTurretPuppyHead(frame){
    const bob = bobY[frame];
    const sway = headLR[frame];
    fill(26+sway, 25+bob, 12, 3, P.mag);
    fill(27+sway, 25+bob, 10, 1, P.cream);
    fill(22+sway, 16+bob, 20, 13, P.lpink);
    fill(24+sway, 18+bob, 16,  9, P.cream);
    const le = earL[frame], re = earR[frame];
    fill(23+sway, 13+le+bob, 5,3, P.lpink);
    fill(24+sway, 12+le+bob, 3,1, P.lpink);
    strokeRect(23+sway, 12+le+bob, 5,4, P.blk);
    fill(36+sway, 14+re+bob, 5,3, P.lpink);
    fill(37+sway, 13+re+bob, 3,1, P.lpink);
    strokeRect(36+sway, 13+re+bob, 5,4, P.blk);
    const blink = (frame===3);
    if(!blink){
      fill(26+sway, 20+bob, 3,2, P.cream);
      fill(35+sway, 20+bob, 3,2, P.cream);
      fill(27+sway, 21+bob, 1,1, P.blk);
      fill(36+sway, 21+bob, 1,1, P.blk);
      fill(26+sway, 20+bob, 1,1, P.mint);
      fill(35+sway, 20+bob, 1,1, P.mint);
    }else{
      fill(26+sway, 21+bob, 3,1, P.blk);
      fill(35+sway, 21+bob, 3,1, P.blk);
    }
    fill(24+sway, 23+bob, 2,1, P.red);
    fill(40+sway, 23+bob, 2,1, P.red);
    fill(31+sway, 22+bob, 2,1, P.red);
    fill(30+sway, 23+bob, 4,1, P.red);
    const t = tongue[frame];
    fill(32+sway, 24+bob, 2, 1+t, P.red);
    strokeRect(22+sway, 16+bob, 20, 13, P.blk);
  }

  function drawShadow(){
    px.globalAlpha = 0.12;
    fill(18, 46, 28, 4, "#000000");
    px.globalAlpha = 1.0;
  }

  function drawHitbox(){
    const cx=32, cy=32, r=22;
    px.strokeStyle = "rgba(255,255,255,.35)";
    px.lineWidth = 1;
    px.beginPath(); px.moveTo(cx-3,cy); px.lineTo(cx+4,cy); px.stroke();
    px.beginPath(); px.moveTo(cx,cy-3); px.lineTo(cx,cy+4); px.stroke();
    px.beginPath();
    px.arc(cx+.5, cy+.5, r, 0, Math.PI*2);
    px.stroke();
  }

  function compose(frame){
    px.clearRect(0,0,BASE,BASE);
    drawShadow();
    drawTreads(frame);
    drawHull(frame);
    drawTail(frame);
    drawSprout(frame);
    drawTurretPuppyHead(frame);
    if(showHitbox) drawHitbox();
  }

  let last = performance.now(), acc = 0, frame = 0;
  function loop(now){
    const dt = now - last; last = now; acc += dt;
    while(acc >= FRAME_MS){
      frame = (frame + 1) % FRAMES;
      acc -= FRAME_MS;
    }
    compose(frame);
    ctx.clearRect(0,0,view.width,view.height);
    ctx.drawImage(off, 0,0, BASE,BASE, 0,0, BASE*SCALE, BASE*SCALE);
    requestAnimationFrame(loop);
  }
  requestAnimationFrame(loop);
})();
</script>
</body>
</html>
