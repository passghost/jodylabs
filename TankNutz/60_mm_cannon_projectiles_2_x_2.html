<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>60mm Cannon Projectile — 4 Variants (HTML-only)</title>
<style>
  :root{
    --bg:#0f1116; --grid:#1b1f2a; --pad:14px; --gap:14px;
    /* Palette */
    --outline:#0b0d12;
    --steel-dark:#424a57; --steel-mid:#647189; --steel-light:#a9b4c8;
    --olive-dark:#3f4a32; --olive-mid:#586b3d; --olive-light:#8aa050;
    --copper:#c97b36; --brass:#d7a646; --yellow:#ffd75a; --black:#080a0e;
    --red:#d93a2b; --orange:#ff9d2d; --amber:#ffcf5c; --white:#ffffff;
    --smoke1:#595b62; --smoke2:#3b3f47;
  }
  *{box-sizing:border-box}
  body{margin:0; min-height:100vh; display:grid; place-items:center; background:var(--bg); color:#cfd3da; font:14px/1.2 ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
  .wrap{display:grid; gap:10px; place-items:center}
  .spec{opacity:.75; font-size:12px}
  .grid{display:grid; grid-template-columns:repeat(2, 48px); grid-auto-rows:48px; gap:var(--gap); padding:var(--pad); background:linear-gradient(135deg,var(--grid),#10131a); border:1px solid #1e2430; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,.35)}
  canvas{ width:48px; height:48px; image-rendering: pixelated; image-rendering: crisp-edges; border-radius:6px; background:transparent; display:block }
  .hint{opacity:.6; font-size:11px}
</style>
</head>
<body>
<div class="wrap">
  <div class="spec">Subject: 60mm cannon projectile · View: side · Canvas: 48×48 · Motion: 6 frames @ 120ms · Hitbox/Anchor: tight, center</div>
  <div class="grid" id="grid" aria-label="2×2 variants">
    <canvas width="48" height="48" data-variant="0" data-anchor="center" data-hitbox="tight" title="AP-T (Steel + Copper band)"></canvas>
    <canvas width="48" height="48" data-variant="1" data-anchor="center" data-hitbox="tight" title="HE-T (Olive + Yellow band)"></canvas>
    <canvas width="48" height="48" data-variant="2" data-anchor="center" data-hitbox="tight" title="APFSDS-T (Dart + fins)"></canvas>
    <canvas width="48" height="48" data-variant="3" data-anchor="center" data-hitbox="tight" title="Incendiary/Tracer (Black/Red)"></canvas>
  </div>
  <div class="hint">Single-file HTML. No external libraries. Each tile is one cohesive sprite.
  </div>
</div>
<script>
(function(){
  const S = 3;                 // pixel scale: 16×16 base → 48×48 canvas
  const W = 16, H = 16;        // logical grid
  const FPS_MS = 120;          // 6 frames @ 120ms

  const C = getComputedStyle(document.documentElement);
  const COL = k => C.getPropertyValue(k).trim();

  // Palette lookup (kept short for readability)
  const P = {
    outline: COL('--outline'), steelD: COL('--steel-dark'), steelM: COL('--steel-mid'), steelL: COL('--steel-light'),
    oliveD: COL('--olive-dark'), oliveM: COL('--olive-mid'), oliveL: COL('--olive-light'),
    copper: COL('--copper'), brass: COL('--brass'), yellow: COL('--yellow'), black: COL('--black'),
    red: COL('--red'), orange: COL('--orange'), amber: COL('--amber'), white: COL('--white'),
    smoke1: COL('--smoke1'), smoke2: COL('--smoke2')
  };

  function px(ctx,x,y,clr){ ctx.fillStyle = clr; ctx.fillRect(x*S, y*S, S, S); }
  function rect(ctx,x,y,w,h,clr){ ctx.fillStyle = clr; ctx.fillRect(x*S, y*S, w*S, h*S); }
  function clear(ctx){ ctx.clearRect(0,0,W*S,H*S); }

  // Shimmer utility: subtle moving highlight along body to imply spin
  function shimmerX(frame){
    // 0..5 → 0,2,4,5,3,1 (nonlinear for less robotic look)
    return [0,2,4,5,3,1][frame%6];
  }

  // Flame shape builder (attached, no floating parts). Returns array of {x,y,c}
  function flame(frame, baseX, baseY, tall=false, smoky=false){
    const f = frame%6;
    const len = tall ? 4 + (f%3) : 2 + (f%3);       // 2..5 or 4..7
    const spread = smoky ? 2 : 1;                   // wider smoke
    const cells = [];
    for(let i=0;i<len;i++){
      const x = baseX + i;                          // flame extends to the right
      const wobble = ( (f+i)%2===0 ? 0 : 1 );
      const y = baseY + (i%2===0?0:1) - wobble;     // little flicker
      const c = i<2 ? P.white : (i<4 ? P.amber : (smoky ? (i%2?P.smoke1:P.smoke2) : P.orange));
      // 1px core
      cells.push({x, y, c});
      // optional spread to make it feel fuller (still attached)
      if(i>1 && spread){ cells.push({x, y: y+1, c}); if(i%3===0) cells.push({x, y: y-1, c}); }
    }
    return cells;
  }

  // === VARIANTS ===
  function draw_APT(ctx, frame){
    clear(ctx);
    const fx = shimmerX(frame);
    // Body (thickness 3) + nose + base; pointing → right
    // Nose tip
    px(ctx,2,8,P.steelL);
    rect(ctx,3,7,2,3,P.steelM);                     // short ogive
    // Main body
    rect(ctx,5,7,7,3,P.steelD);
    rect(ctx,5,8,7,1,P.steelM);                     // midline
    // Copper driving band
    rect(ctx,8,7,1,3,P.copper);
    // Base cap
    rect(ctx,12,7,1,3,P.steelM);
    // Outline (sparse for silhouette)
    px(ctx,3,6,P.outline); px(ctx,4,6,P.outline); px(ctx,5,6,P.outline);
    px(ctx,12,6,P.outline); px(ctx,12,10,P.outline); px(ctx,5,10,P.outline); px(ctx,3,10,P.outline); px(ctx,4,10,P.outline);
    // Shimmer highlight along top row
    const hx = 5 + fx; if(hx<=11) px(ctx,hx,7,P.steelL);
    // Tracer flame (attached at base)
    flame(frame, 13, 7, false, false).forEach(p=>px(ctx,p.x,p.y,p.c));
  }

  function draw_HE(ctx, frame){
    clear(ctx);
    const fx = shimmerX(frame);
    // Nose tip
    px(ctx,2,8,P.oliveL);
    rect(ctx,3,7,2,3,P.oliveM);
    // Body
    rect(ctx,5,7,7,3,P.oliveD);
    rect(ctx,5,8,7,1,P.oliveM);
    // Yellow HE marking band near nose
    rect(ctx,6,7,1,3,P.yellow);
    // Base cap
    rect(ctx,12,7,1,3,P.oliveM);
    // Outline beats
    px(ctx,3,6,P.outline); px(ctx,4,6,P.outline); px(ctx,5,6,P.outline); px(ctx,12,6,P.outline);
    px(ctx,12,10,P.outline); px(ctx,5,10,P.outline); px(ctx,3,10,P.outline); px(ctx,4,10,P.outline);
    // Shimmer
    const hx = 5 + fx; if(hx<=11) px(ctx,hx,7,P.oliveLight || P.oliveL);
    // Smokier flame
    flame(frame, 13, 7, false, true).forEach(p=>px(ctx,p.x,p.y,p.c));
  }

  function draw_DART(ctx, frame){
    clear(ctx);
    const fx = shimmerX(frame);
    // Slender penetrator dart (APFSDS-like), slightly thinner body
    // Tip
    px(ctx,2,8,P.steelL);
    px(ctx,3,8,P.steelM);
    // Body (2px thick along y=7..8)
    rect(ctx,4,7,8,2,P.steelD);                     
    // Subtle midline
    rect(ctx,4,8,8,1,P.steelM);
    // Tail fins (stay attached)
    px(ctx,12,6,P.steelM); px(ctx,12,9,P.steelM);
    px(ctx,13,6,P.steelD); px(ctx,13,9,P.steelD);
    // Copper/Brass sabot ring hint
    px(ctx,7,7,P.brass); px(ctx,7,8,P.brass);
    // Outline hints
    px(ctx,4,6,P.outline); px(ctx,11,6,P.outline); px(ctx,11,9,P.outline); px(ctx,4,9,P.outline);
    // Shimmer along top
    const hx = 4 + Math.min(fx,7); px(ctx,hx,7,P.steelL);
    // Hot tracer, longer but tight
    flame(frame, 12, 7, true, false).forEach(p=>px(ctx,p.x,p.y,p.c));
  }

  function draw_INC(ctx, frame){
    clear(ctx);
    const fx = shimmerX(frame);
    // Dark body w/ red tip
    px(ctx,2,8,P.red);
    rect(ctx,3,7,2,3,P.black);
    rect(ctx,5,7,7,3,P.black);
    rect(ctx,5,8,7,1,P.smoke1);
    // Incendiary band (orange)
    rect(ctx,9,7,1,3,P.orange);
    // Base cap
    rect(ctx,12,7,1,3,P.smoke2);
    // Outline beats
    px(ctx,3,6,P.outline); px(ctx,5,6,P.outline); px(ctx,12,6,P.outline);
    px(ctx,12,10,P.outline); px(ctx,5,10,P.outline); px(ctx,3,10,P.outline);
    // Gloss highlight
    const hx = 5 + fx; if(hx<=11) px(ctx,hx,7,P.smoke1);
    // Fiery tail, fattest
    flame(frame, 13, 7, true, false).forEach(p=>px(ctx,p.x,p.y,p.c));
  }

  const drawers = [draw_APT, draw_HE, draw_DART, draw_INC];

  const canvases = Array.from(document.querySelectorAll('canvas[data-variant]'))
    .map(c => ({ c, ctx: c.getContext('2d'), v: +c.dataset.variant }));
  canvases.forEach(({ctx}) => { ctx.imageSmoothingEnabled = false; });

  let frame = 0;
  function tick(){
    canvases.forEach(({ctx,v}) => drawers[v](ctx, frame));
    frame = (frame + 1) % 6;
  }
  tick();
  setInterval(tick, FPS_MS);
})();
</script>
</body>
</html>
