<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Pixel — Fat Person Eating a Sandwich (3/4, 48×48)</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  :root { color-scheme: dark; }
  html, body { height: 100%; margin: 0; background:#0f0f12; }
  body { display:grid; place-items:center; }
  canvas {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    width: 384px;  /* upscale 8× for display */
    height: 384px;
    box-shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.03);
    border-radius: 12px;
    background:#141418;
  }
  /* Optional: tiny caption */
  .cap{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);font:12px/1.2 ui-monospace,monospace;color:#b7bcc8;opacity:.7}
</style>
</head>
<body>
<canvas id="c" width="48" height="48" aria-label="Pixel character eating a sandwich"></canvas>
<div class="cap">[View: 3/4] [Canvas: 48×48] [Motion: 6 frames @120ms] [Hitbox pivot: feet baseline @ (24,42)]</div>
<script>
/*
[PIXEL SPEC FILLED]
Subject: a pixel fat person eating a sandwich
View: 3/4
Canvas: 48×48
Palette:
  outline:      #0b0b10
  skin light:   #f1c27d
  skin shade:   #e0a072
  shirt base:   #3b82f6
  shirt shade:  #1f5fd1
  rim light:    #dbeafe
  pants base:   #374151
  pants shade:  #1f2937
  shoes:        #222327
  hair:         #2e2a2a
  bread:        #e5c07b
  crust:        #b08946
  lettuce:      #2fa866
  filling:      #b34d4d
  mouth:        #161317
Style notes: chunky shading, slight rim light on viewer-left, strong silhouette
Motion: 6 frames, 120ms — head bob + chew cycle + arm brings sandwich in/out
Hitbox/anchor: feet baseline pivot at (24,42)
Export: single-file HTML only
Constraints: no external libs, cohesive single element, no floating parts
*/

const cvs = document.getElementById('c');
const ctx = cvs.getContext('2d', { alpha:false });
ctx.imageSmoothingEnabled = false;

const P = { // palette
  OUT:'#0b0b10',
  SK1:'#f1c27d', SK2:'#e0a072',
  SH1:'#3b82f6', SH2:'#1f5fd1', RL:'#dbeafe',
  PN1:'#374151', PN2:'#1f2937',
  SHOE:'#222327', HAIR:'#2e2a2a',
  BR:'#e5c07b', CR:'#b08946', LET:'#2fa866', MEAT:'#b34d4d',
  MOU:'#161317'
};

function px(x,y,w=1,h=1,col=P.OUT){ ctx.fillStyle=col; ctx.fillRect(x|0,y|0,w|0,h|0); }
function block(x,y,w,h,fill,outline=P.OUT){
  // Outline (1px) around a filled block for a chunky look
  // top & bottom
  px(x, y, w, 1, outline);
  px(x, y+h-1, w, 1, outline);
  // left & right
  px(x, y+1, 1, h-2, outline);
  px(x+w-1, y+1, 1, h-2, outline);
  // fill
  px(x+1, y+1, w-2, h-2, fill);
}

function body(frame){
  // frame: 0..5
  // Animation curves
  const chew = frame % 6;                  // 0..5
  const bobY = (chew===1||chew===2)? -1 : (chew===4? 1 : 0);  // head/body bob
  const mouthOpen = (chew===1 || chew===4) ? 2 : (chew===2 ? 3 : 1);
  const armIn = (chew===1||chew===2) ? 2 : (chew===3?1:0);    // arm brings sandwich closer on early frames
  const handLift = (chew===1||chew===2) ? -1 : 0;

  // Clear
  ctx.fillStyle = '#141418';
  ctx.fillRect(0,0,48,48);

  // ---- Pants / legs / shoes (base at y=42 baseline) ----
  block(14, 34, 20, 10, P.PN1);           // pants block
  px(14, 39, 20, 1, P.PN2);               // pants shadow stripe
  // leg split to suggest two legs
  px(23, 34, 2, 10, P.PN2);

  // shoes
  block(12, 42, 10, 4, P.SHOE);
  block(26, 42, 10, 4, P.SHOE);

  // ---- Torso (big, rounded via stepped blocks) ----
  // Core belly
  block(8, 18+bobY, 32, 18, P.SH1);
  // Belly roundness: side lobes
  block(6, 22+bobY, 4, 12, P.SH1);
  block(38,22+bobY, 4, 12, P.SH1);
  // Chest
  block(10, 14+bobY, 28, 8, P.SH1);
  // Shading (viewer-right)
  px(34, 15+bobY, 3, 15, P.SH2);
  px(35, 26+bobY, 3, 8, P.SH2);
  // Rim light (viewer-left)
  px(9, 16+bobY, 1, 18, P.RL);

  // ---- Head ----
  // Hair back plate
  block(17, 6+bobY, 14, 8, P.HAIR);
  // Face
  block(18, 8+bobY, 12, 9, P.SK1);
  // Cheek shade
  px(27, 10+bobY, 2, 4, P.SK2);
  // Eye (single pixel)
  px(24, 11+bobY, 1, 1, P.OUT);
  // Mouth (animated open height)
  block(22, 14+bobY, 6, mouthOpen, P.MOU);

  // ---- Neck ----
  block(21, 16+bobY, 8, 3, P.SK2);

  // ---- Left arm (resting on belly) ----
  // upper arm
  block(9, 18+bobY, 6, 5, P.SK1);
  // forearm
  block(8, 22+bobY, 7, 5, P.SK1);
  // tiny elbow shade
  px(8, 22+bobY, 2, 1, P.SK2);

  // ---- Right arm + hand + sandwich (animated in) ----
  // shoulder base
  block(33, 18+bobY, 6, 5, P.SK1);
  // forearm angled via two small blocks stepping toward mouth
  block(34, 22+bobY+handLift, 6, 4, P.SK1);
  block(31, 23+bobY+handLift-1, 5, 4, P.SK1);
  // Bring inward depending on frame
  // We "nudge" the inner forearm by armIn px to simulate closing gap
  px(31+armIn, 23+bobY+handLift-1, 5, 4, P.SK1); // overwrite to move inner segment visually inwards

  // Hand (touching sandwich)
  block(29+armIn, 22+bobY+handLift-1, 4, 4, P.SK1);

  // Sandwich (kept attached to hand; no floating parts)
  // Bread slice
  block(28+armIn, 19+bobY+handLift-1, 8, 4, P.BR);
  // Crust top/bottom
  px(28+armIn, 19+bobY+handLift-1, 8, 1, P.CR);
  px(28+armIn, 22+bobY+handLift-1, 8, 1, P.CR);
  // Filling
  px(29+armIn, 20+bobY+handLift-1, 6, 1, P.MEAT);
  px(29+armIn, 21+bobY+handLift-1, 6, 1, P.LET);

  // ---- Shirt collar & overlap to sell depth ----
  px(20, 16+bobY, 8, 1, P.SH2);
  px(19, 17+bobY, 10, 1, P.SH2);

  // ---- Subtle belly highlight band (chunky) ----
  px(12, 24+bobY, 8, 1, '#a9c8ff'); // soft highlight band
  px(28, 24+bobY, 6, 1, '#a0c1ff');

  // (Debug pivot/box — commented out)
  // px(24, 42, 1, 1, '#ff66aa'); // pivot dot
}

// Animation timing
let tPrev = 0, acc = 0, frame = 0;
const FRAME_MS = 120;

function loop(ts){
  if(!tPrev) tPrev = ts;
  const dt = ts - tPrev; tPrev = ts;
  acc += dt;
  while(acc >= FRAME_MS){
    acc -= FRAME_MS;
    frame = (frame + 1) % 6;
  }
  body(frame);
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

// Expose hitbox info if needed (not drawn)
window.spriteMeta = {
  view: "3/4",
  canvas: [48,48],
  motion: { frames:6, frameMs:120 },
  hitbox: { pivot:[24,42], bbox:[10,6,28,40] } // [x,y,w,h]
};
</script>
</body>
</html>
