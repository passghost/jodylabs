<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dense Highâ€‘Def Flower Patch</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #0f1a12;
      display: grid;
      place-items: center;
    }
    #c {
      width: 640px;
      height: 640px;
      display: block;
      background: #17341a;
      border-radius: 14px;
      box-shadow: 0 12px 42px rgba(0,0,0,.45);
    }
  </style>
</head>
<body>
  <canvas id="c" width="640" height="640"></canvas>

  <script>
  const W = 640, H = 640;
  const cvs = document.getElementById('c');
  const ctx = cvs.getContext('2d', { alpha: false });
  ctx.imageSmoothingEnabled = true;

  const palette = {
    grassA: '#183b1f', grassB: '#24512c', grassC: '#2c6a36',
    leafA: '#2d7a37', leafB: '#2a6d33', leafShadow: 'rgba(0,0,0,.18)',
    centers: ['#f2c84b', '#f4a83a', '#ffc95e'],
    petals: [
      ['#ff9eb6', '#ffd4e0'],
      ['#ffd166', '#ffeaa3'],
      ['#8ecae6', '#d6efff'],
      ['#b794f4', '#e8d9ff'],
      ['#ff9f6e', '#ffd0b7'],
    ]
  };

  function sfc32(a, b, c, d) {
    return function() {
      a >>>= 0; b >>>= 0; c >>>= 0; d >>>= 0;
      let t = (a + b) | 0;
      a = b ^ b >>> 9; b = c + (c << 3) | 0; c = (c << 21 | c >>> 11);
      d = d + 1 | 0; t = t + d | 0; c = c + t | 0; return (t >>> 0)/4294967296;
    };
  }
  const rand = sfc32(0x12345678,0x9e3779b9,0xfeedbeef,0xdeadbeef);
  const r = (min,max) => rand()*(max-min)+min;
  const ri = (min,max) => Math.floor(r(min,max+1));
  const pick = arr => arr[Math.floor(rand()*arr.length)];

  const flowers = [];
  const COUNT = 220; // More flowers, tightly packed
  for (let i=0; i<COUNT; i++) {
    const x = r(40, W-40);
    const y = r(40, H-40);
    const size = r(20, 34); // LARGER blooms
    const petals = ri(6,10);
    const colors = pick(palette.petals);
    const centerCol = pick(palette.centers);
    const phase = r(0, Math.PI*2);
    const speed = r(0.5, 1.0);
    flowers.push({x,y,size,petals,colors,centerCol,phase,speed});
  }

  function gradientGrass(ctx){
    const g = ctx.createRadialGradient(W/2,H/2,100,W/2,H/2,400);
    g.addColorStop(0,palette.grassC);
    g.addColorStop(0.7,palette.grassB);
    g.addColorStop(1,palette.grassA);
    ctx.fillStyle=g;
    ctx.fillRect(0,0,W,H);
  }

  function drawLeaf(ctx,x,y,rMajor,rMinor,rot){
    ctx.save(); ctx.translate(x,y); ctx.rotate(rot);
    const grad=ctx.createLinearGradient(-rMajor,0,rMajor,0);
    grad.addColorStop(0,palette.leafB);
    grad.addColorStop(1,palette.leafA);
    ctx.fillStyle=grad;
    ctx.beginPath();
    ctx.moveTo(-rMajor*0.9,0);
    ctx.quadraticCurveTo(0,-rMinor*1.2,rMajor*0.9,0);
    ctx.quadraticCurveTo(0,rMinor*1.0,-rMajor*0.9,0);
    ctx.closePath(); ctx.fill();
    ctx.restore();
  }

  function drawFlower(ctx,f,t){
    ctx.save(); ctx.translate(f.x,f.y);
    ctx.rotate(Math.sin(t*f.speed+f.phase)*0.25);
    for(let i=0;i<ri(3,5);i++){
      const lr=f.size*0.5, lminor=lr*0.4;
      const ang=(i/4)*Math.PI*2+r(-0.2,0.2);
      drawLeaf(ctx,0,0,lr,lminor,ang);
    }
    const [petalBase,petalTip]=f.colors;
    for(let i=0;i<f.petals;i++){
      const a=(i/f.petals)*Math.PI*2;
      const dist=f.size*0.55;
      const px=Math.cos(a)*dist, py=Math.sin(a)*dist;
      ctx.save(); ctx.translate(px,py); ctx.rotate(a);
      const rx=f.size*0.9, ry=f.size*0.55;
      const grad=ctx.createLinearGradient(-rx*0.2,0,rx*1.05,0);
      grad.addColorStop(0,petalBase); grad.addColorStop(1,petalTip);
      ctx.fillStyle=grad;
      ctx.beginPath();
      ctx.moveTo(-rx*0.1,0);
      ctx.bezierCurveTo(rx*0.15,-ry,rx*0.9,-ry*0.6,rx,0);
      ctx.bezierCurveTo(rx*0.9,ry*0.6,rx*0.15,ry,-rx*0.1,0);
      ctx.closePath(); ctx.fill();
      ctx.restore();
    }
    const cg=ctx.createRadialGradient(0,0,f.size*0.05,0,0,f.size*0.45);
    cg.addColorStop(0,'#fff6c9');
    cg.addColorStop(0.55,f.centerCol);
    cg.addColorStop(1,'#8a5a1f');
    ctx.fillStyle=cg;
    ctx.beginPath(); ctx.arc(0,0,f.size*0.42,0,Math.PI*2); ctx.fill();
    ctx.restore();
  }

  function render(t){
    t=(t||0)/1000;
    gradientGrass(ctx);
    for(const f of flowers) drawFlower(ctx,f,t);
    requestAnimationFrame(render);
  }

  requestAnimationFrame(render);
  </script>
</body>
</html>
